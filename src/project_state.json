{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-update-the-profile-setup-modal-to-allow-selecting-previewing-and-saving-an-optional-avatar-image-as-part-of-the-initial-profile-creation-context-frontend-src-components-auth-profilesetupmodal-tsx-currently-collects-name-email-and-bio-implementation-requirements-add-an-avatar-image-input-file-picker-that-accepts-images-use-the-existing-helper-frontend-src-utils-filetodataurl-ts-to-convert-the-selected-file-into-a-data-url-string-and-store-it-in-the-form-state-show-a-preview-of-the-selected-avatar-image-provide-a-clear-remove-avatar-control-to-unset-the-selected-avatar-before-submitting-on-submit-call-the-existing-save-profile-mutation-with-the-new-avatar-field-included",
      "title": "Update the profile setup modal to allow selecting, previewing, and saving an optional avatar image as part of the initial profile creation.\n\nContext: frontend/src/components/auth/ProfileSetupModal.tsx currently collects name, email, and bio.\n\nImplementation requirements:\n- Add an avatar image input (file picker) that accepts images.\n- Use the existing helper frontend/src/utils/fileToDataUrl.ts to convert the selected file into a data URL string and store it in the form state.\n- Show a preview of the selected avatar image.\n- Provide a clear/remove avatar control to unset the selected avatar before submitting.\n- On submit, call the existing save profile mutation with the new avatar field included.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-my-profile-page-to-display-the-current-avatar-and-allow-users-to-add-change-or-remove-their-avatar-image-context-frontend-src-pages-myprofilepage-tsx-currently-supports-viewing-editing-name-email-and-bio-implementation-requirements-render-the-current-avatar-if-present-near-the-top-of-the-profile-card-add-an-image-file-picker-to-change-the-avatar-use-frontend-src-utils-filetodataurl-ts-add-a-remove-avatar-action-that-clears-the-avatar-and-saves-the-updated-profile-ensure-the-save-changes-flow-correctly-enables-disables-based-on-dirty-state-and-shows-success-error-states-consistently-with-existing-behavior",
      "title": "Update the My Profile page to display the current avatar and allow users to add, change, or remove their avatar image.\n\nContext: frontend/src/pages/MyProfilePage.tsx currently supports viewing/editing name, email, and bio.\n\nImplementation requirements:\n- Render the current avatar (if present) near the top of the profile card.\n- Add an image file picker to change the avatar; use frontend/src/utils/fileToDataUrl.ts.\n- Add a remove avatar action that clears the avatar and saves the updated profile.\n- Ensure the Save Changes flow correctly enables/disables based on dirty state and shows success/error states consistently with existing behavior.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Allow users to add an avatar/image to their profile",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Extend the backend user profile model to store an optional avatar image and include it in all user profile read/write APIs.\n\nContext: backend/main.mo currently defines UserProfile as { name; email; bio } and exposes getCallerUserProfile, getUserProfile, and saveCallerUserProfile.\n\nImplementation requirements:\n- Add an optional field on UserProfile for the avatar image (e.g., a data URL string) so users can have no avatar.\n- Update the Candid interface accordingly so the frontend generated types include the new field.\n- Ensure getCallerUserProfile/getUserProfile return the avatar value and saveCallerUserProfile persists it.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Add profile avatar image upload and display",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}